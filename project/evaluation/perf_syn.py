import sys
import os

import timeit
import statistics

this_path = os.path.dirname(os.path.abspath(__file__))
syntactic_path = os.path.join(this_path, "..", "synt2")
sys.path.append(syntactic_path)

from main import main_func

#main()


def repeat():
    number = 50
    iterations = 100

    # Measure execution times
    execution_times = timeit.repeat("main_func()", repeat=iterations, number=number, globals=globals())
    print(f"SYN - Execution times: {execution_times}")

    std_deviation = statistics.stdev(execution_times)
    average_time = statistics.mean(execution_times)

    print(f"Standard Deviation: {std_deviation}")
    print(f"Average Time: {average_time}")


def time():

    num_repeat = 10
    num_loops = 1
    times = []
    for _ in range(num_repeat):
        total_time = timeit.timeit("main_func()", number=num_loops, globals=globals())
        print("Total time:", total_time)
        print("Average time:", total_time/iterations)


# repeat()

##########
# OUTPUT - repeat()
##########
number = 50
iterations = 100

execution_times = [0.375313836033456, 0.3266078559681773, 0.3235218289773911, 0.33630893810186535, 0.35459689295385033, 0.33461914700455964, 0.3614596949191764, 0.3799757770029828, 0.37231583101674914, 0.34700260404497385, 0.37063591310288757, 0.34087591199204326, 0.3396714369300753, 0.33607799594756216, 0.38835185195785016, 0.34053862001746893, 0.3407952660927549, 0.33924495603423566, 0.3587320160586387, 0.3776463909307495, 0.367545229033567, 0.35108933795709163, 0.3498053819639608, 0.3574843149399385, 0.35352948191575706, 0.33134476700797677, 0.3570119779324159, 0.32559906505048275, 0.3748562359251082, 0.3437566659413278, 0.331753631005995, 0.3265842329710722, 0.34834039804991335, 0.33540164900477976, 0.32921399699989706, 0.3359647069592029, 0.377945571905002, 0.33170705393422395, 0.36705111199989915, 0.3692783680744469, 0.3517534399870783, 0.3541211060946807, 0.382045436068438, 0.35294971091207117, 0.3418314659502357, 0.32508943299762905, 0.34578719397541136, 0.3521131509914994, 0.3433149131014943, 0.347771167056635, 0.33614095905795693, 0.3276061210781336, 0.3322345500346273, 0.335118085029535, 0.3378299860050902, 0.3381841090740636, 0.32917445700149983, 0.39328548999037594, 0.331167567986995, 0.33507503499276936, 0.3360853240592405, 0.3454619940603152, 0.32789575797505677, 0.32982347707729787, 0.34032720304094255, 0.31746837904211134, 0.3358521959744394, 0.33019946003332734, 0.3356983019039035, 0.32259494706522673, 0.32745657104533166, 0.3946829360211268, 0.36466752202250063, 0.3573476430028677, 0.32710602995939553, 0.32837976794689894, 0.3291518399491906, 0.32764661905821413, 0.3344619859708473, 0.3375907859299332, 0.33465161989443004, 0.3481575089972466, 0.37078987597487867, 0.34005168708972633, 0.3491718909936026, 0.3499763240106404, 0.39515849598683417, 0.3319476239848882, 0.32697303395252675, 0.3786120240110904, 0.3364756810478866, 0.32602156896609813, 0.3365918730851263, 0.3302738959901035, 0.3311985139735043, 0.3310253989184275, 0.33299246500246227, 0.32439173094462603, 0.332689918926917, 0.32613627100363374]
# len(execution_times) = iterations


times = [ elem*1000/number for elem in execution_times]

print(times)

mean = statistics.mean(times)
std = statistics.stdev(times)

print("mean:", mean)
print("std:", std)
